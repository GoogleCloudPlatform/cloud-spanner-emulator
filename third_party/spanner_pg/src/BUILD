# Description:
#   PostgreSQL, an open source database management system.

package(
    default_visibility = [
        "//:__subpackages__",
    ],
    # Disable layering_check because the Postgres binary is one giant component.
    # Disable parse_headers because postgres implicitly includes postgres.h
    # before each header, so, the headers cannot be parsed independently.
    features = [
        "-layering_check",
        "-parse_headers",
    ],
)

licenses(["notice"])

filegroup(
    name = "tools_perfhash",
    srcs = [
        "tools/PerfectHash.pm",
    ],
)

filegroup(
    name = "tools_gen_keywords",
    srcs = [
        "tools/gen_keywordlist.pl",
    ],
)

filegroup(
    name = "not_yet_part_of_any_blaze_library",
    srcs = [
        "bin/pg_archivecleanup/pg_archivecleanup.c",
        "bin/pg_basebackup/pg_basebackup.c",
        "bin/pg_basebackup/pg_receivewal.c",
        "bin/pg_basebackup/pg_recvlogical.c",
        "bin/pg_basebackup/receivelog.c",
        "bin/pg_basebackup/receivelog.h",
        "bin/pg_basebackup/streamutil.c",
        "bin/pg_basebackup/streamutil.h",
        "bin/pg_basebackup/walmethods.c",
        "bin/pg_basebackup/walmethods.h",
        "bin/pg_dump/common.c",
        "bin/pg_dump/compress_io.c",
        "bin/pg_dump/compress_io.h",
        "bin/pg_dump/dumputils.c",
        "bin/pg_dump/dumputils.h",
        "bin/pg_dump/parallel.c",
        "bin/pg_dump/parallel.h",
        "bin/pg_dump/pg_backup.h",
        "bin/pg_dump/pg_backup_archiver.c",
        "bin/pg_dump/pg_backup_archiver.h",
        "bin/pg_dump/pg_backup_custom.c",
        "bin/pg_dump/pg_backup_db.c",
        "bin/pg_dump/pg_backup_db.h",
        "bin/pg_dump/pg_backup_directory.c",
        "bin/pg_dump/pg_backup_null.c",
        "bin/pg_dump/pg_backup_tar.c",
        "bin/pg_dump/pg_backup_tar.h",
        "bin/pg_dump/pg_backup_utils.c",
        "bin/pg_dump/pg_backup_utils.h",
        "bin/pg_dump/pg_dump.c",
        "bin/pg_dump/pg_dump.h",
        "bin/pg_dump/pg_dump_sort.c",
        "bin/pg_dump/pg_dumpall.c",
        "bin/pg_dump/pg_restore.c",
        "bin/pg_resetwal/pg_resetwal.c",
        "bin/pg_rewind/copy_fetch.c",
        "bin/pg_rewind/datapagemap.c",
        "bin/pg_rewind/datapagemap.h",
        "bin/pg_rewind/fetch.c",
        "bin/pg_rewind/fetch.h",
        "bin/pg_rewind/file_ops.c",
        "bin/pg_rewind/file_ops.h",
        "bin/pg_rewind/filemap.c",
        "bin/pg_rewind/filemap.h",
        "bin/pg_rewind/libpq_fetch.c",
        "bin/pg_rewind/parsexlog.c",
        "bin/pg_rewind/pg_rewind.c",
        "bin/pg_rewind/pg_rewind.h",
        "bin/pg_rewind/timeline.c",
        "bin/pg_test_fsync/pg_test_fsync.c",
        "bin/pg_test_timing/pg_test_timing.c",
        "bin/pg_upgrade/check.c",
        "bin/pg_upgrade/controldata.c",
        "bin/pg_upgrade/dump.c",
        "bin/pg_upgrade/exec.c",
        "bin/pg_upgrade/file.c",
        "bin/pg_upgrade/function.c",
        "bin/pg_upgrade/info.c",
        "bin/pg_upgrade/option.c",
        "bin/pg_upgrade/parallel.c",
        "bin/pg_upgrade/pg_upgrade.c",
        "bin/pg_upgrade/pg_upgrade.h",
        "bin/pg_upgrade/relfilenode.c",
        "bin/pg_upgrade/server.c",
        "bin/pg_upgrade/tablespace.c",
        "bin/pg_upgrade/util.c",
        "bin/pg_upgrade/version.c",
        "bin/pg_waldump/compat.c",
        "bin/pg_waldump/pg_waldump.c",
        "bin/pg_waldump/rmgrdesc.c",
        "bin/pg_waldump/rmgrdesc.h",
        "bin/pgbench/pgbench.c",
        "bin/pgbench/pgbench.h",
        "bin/pgevent/pgevent.c",
        "bin/pgevent/pgmsgevent.h",
        "bin/scripts/clusterdb.c",
        "bin/scripts/common.c",
        "bin/scripts/common.h",
        "bin/scripts/createdb.c",
        "bin/scripts/createuser.c",
        "bin/scripts/dropdb.c",
        "bin/scripts/dropuser.c",
        "bin/scripts/pg_isready.c",
        "bin/scripts/reindexdb.c",
        "bin/scripts/vacuumdb.c",
        "interfaces/ecpg/compatlib/informix.c",
        "interfaces/ecpg/ecpglib/connect.c",
        "interfaces/ecpg/ecpglib/data.c",
        "interfaces/ecpg/ecpglib/descriptor.c",
        "interfaces/ecpg/ecpglib/error.c",
        "interfaces/ecpg/ecpglib/execute.c",
        "interfaces/ecpg/ecpglib/memory.c",
        "interfaces/ecpg/ecpglib/misc.c",
        "interfaces/ecpg/ecpglib/prepare.c",
        "interfaces/ecpg/ecpglib/sqlda.c",
        "interfaces/ecpg/ecpglib/typename.c",
        "interfaces/ecpg/include/datetime.h",
        "interfaces/ecpg/include/decimal.h",
        "interfaces/ecpg/include/ecpg-pthread-win32.h",
        "interfaces/ecpg/include/ecpg_config.h",
        "interfaces/ecpg/include/ecpg_informix.h",
        "interfaces/ecpg/include/ecpgerrno.h",
        "interfaces/ecpg/include/ecpglib.h",
        "interfaces/ecpg/include/ecpgtype.h",
        "interfaces/ecpg/include/pgtypes.h",
        "interfaces/ecpg/include/pgtypes_date.h",
        "interfaces/ecpg/include/pgtypes_error.h",
        "interfaces/ecpg/include/pgtypes_interval.h",
        "interfaces/ecpg/include/pgtypes_numeric.h",
        "interfaces/ecpg/include/pgtypes_timestamp.h",
        "interfaces/ecpg/include/sql3types.h",
        "interfaces/ecpg/include/sqlca.h",
        "interfaces/ecpg/include/sqlda.h",
        "interfaces/ecpg/include/sqlda-compat.h",
        "interfaces/ecpg/include/sqlda-native.h",
        "interfaces/ecpg/include/sqltypes.h",
        "interfaces/ecpg/pgtypeslib/common.c",
        "interfaces/ecpg/pgtypeslib/datetime.c",
        "interfaces/ecpg/pgtypeslib/dt.h",
        "interfaces/ecpg/pgtypeslib/dt_common.c",
        "interfaces/ecpg/pgtypeslib/interval.c",
        "interfaces/ecpg/pgtypeslib/numeric.c",
        "interfaces/ecpg/pgtypeslib/timestamp.c",
        "interfaces/ecpg/preproc/c_keywords.c",
        "interfaces/ecpg/preproc/descriptor.c",
        "interfaces/ecpg/preproc/ecpg.c",
        "interfaces/ecpg/preproc/ecpg_keywords.c",
        "interfaces/ecpg/preproc/keywords.c",
        "interfaces/ecpg/preproc/output.c",
        "interfaces/ecpg/preproc/parser.c",
        "interfaces/ecpg/preproc/type.c",
        "interfaces/ecpg/preproc/type.h",
        "interfaces/ecpg/preproc/variable.c",
        "interfaces/ecpg/test/expected/compat_informix-charfuncs.c",
        "interfaces/ecpg/test/expected/compat_informix-dec_test.c",
        "interfaces/ecpg/test/expected/compat_informix-describe.c",
        "interfaces/ecpg/test/expected/compat_informix-rfmtdate.c",
        "interfaces/ecpg/test/expected/compat_informix-rfmtlong.c",
        "interfaces/ecpg/test/expected/compat_informix-rnull.c",
        "interfaces/ecpg/test/expected/compat_informix-sqlda.c",
        "interfaces/ecpg/test/expected/compat_informix-test_informix.c",
        "interfaces/ecpg/test/expected/compat_informix-test_informix2.c",
        "interfaces/ecpg/test/expected/compat_oracle-char_array.c",
        "interfaces/ecpg/test/expected/connect-test1.c",
        "interfaces/ecpg/test/expected/connect-test2.c",
        "interfaces/ecpg/test/expected/connect-test3.c",
        "interfaces/ecpg/test/expected/connect-test4.c",
        "interfaces/ecpg/test/expected/connect-test5.c",
        "interfaces/ecpg/test/expected/pgtypeslib-dt_test.c",
        "interfaces/ecpg/test/expected/pgtypeslib-dt_test2.c",
        "interfaces/ecpg/test/expected/pgtypeslib-nan_test.c",
        "interfaces/ecpg/test/expected/pgtypeslib-num_test.c",
        "interfaces/ecpg/test/expected/pgtypeslib-num_test2.c",
        "interfaces/ecpg/test/expected/preproc-array_of_struct.c",
        "interfaces/ecpg/test/expected/preproc-autoprep.c",
        "interfaces/ecpg/test/expected/preproc-comment.c",
        "interfaces/ecpg/test/expected/preproc-cursor.c",
        "interfaces/ecpg/test/expected/preproc-define.c",
        "interfaces/ecpg/test/expected/preproc-describe.c",
        "interfaces/ecpg/test/expected/preproc-init.c",
        "interfaces/ecpg/test/expected/preproc-outofscope.c",
        "interfaces/ecpg/test/expected/preproc-pointer_to_struct.c",
        "interfaces/ecpg/test/expected/preproc-strings.c",
        "interfaces/ecpg/test/expected/preproc-type.c",
        "interfaces/ecpg/test/expected/preproc-variable.c",
        "interfaces/ecpg/test/expected/preproc-whenever.c",
        "interfaces/ecpg/test/expected/preproc-whenever_do_continue.c",
        "interfaces/ecpg/test/expected/sql-array.c",
        "interfaces/ecpg/test/expected/sql-binary.c",
        "interfaces/ecpg/test/expected/sql-code100.c",
        "interfaces/ecpg/test/expected/sql-copystdout.c",
        "interfaces/ecpg/test/expected/sql-createtableas.c",
        "interfaces/ecpg/test/expected/sql-define.c",
        "interfaces/ecpg/test/expected/sql-desc.c",
        "interfaces/ecpg/test/expected/sql-describe.c",
        "interfaces/ecpg/test/expected/sql-dynalloc.c",
        "interfaces/ecpg/test/expected/sql-dynalloc2.c",
        "interfaces/ecpg/test/expected/sql-dyntest.c",
        "interfaces/ecpg/test/expected/sql-execute.c",
        "interfaces/ecpg/test/expected/sql-fetch.c",
        "interfaces/ecpg/test/expected/sql-func.c",
        "interfaces/ecpg/test/expected/sql-indicators.c",
        "interfaces/ecpg/test/expected/sql-insupd.c",
        "interfaces/ecpg/test/expected/sql-oldexec.c",
        "interfaces/ecpg/test/expected/sql-parser.c",
        "interfaces/ecpg/test/expected/sql-quote.c",
        "interfaces/ecpg/test/expected/sql-show.c",
        "interfaces/ecpg/test/expected/sql-sqlda.c",
        "interfaces/ecpg/test/expected/sql-twophase.c",
        "interfaces/ecpg/test/expected/thread-alloc.c",
        "interfaces/ecpg/test/expected/thread-descriptor.c",
        "interfaces/ecpg/test/expected/thread-prep.c",
        "interfaces/ecpg/test/expected/thread-thread.c",
        "interfaces/ecpg/test/expected/thread-thread_implicit.c",
        "interfaces/ecpg/test/pg_regress_ecpg.c",
        "interfaces/ecpg/test/preproc/strings.h",
        "interfaces/ecpg/test/preproc/struct.h",
        "interfaces/ecpg/test/regression.h",
        "test/examples/testlibpq.c",
        "test/examples/testlibpq2.c",
        "test/examples/testlibpq3.c",
        "test/examples/testlibpq4.c",
        "test/examples/testlo.c",
        "test/examples/testlo64.c",
        "test/isolation/isolation_main.c",
        "test/isolation/isolationtester.c",
        "test/isolation/isolationtester.h",
        "test/locale/sort-test.py",
        "test/locale/test-ctype.c",
        "test/modules/dummy_seclabel/dummy_seclabel.c",
        "test/modules/test_bloomfilter/test_bloomfilter.c",
        "test/modules/test_ddl_deparse/test_ddl_deparse.c",
        "test/modules/test_parser/test_parser.c",
        "test/modules/test_predtest/test_predtest.c",
        "test/modules/test_rbtree/test_rbtree.c",
        "test/modules/test_rls_hooks/test_rls_hooks.c",
        "test/modules/test_rls_hooks/test_rls_hooks.h",
        "test/modules/test_shm_mq/setup.c",
        "test/modules/test_shm_mq/test.c",
        "test/modules/test_shm_mq/test_shm_mq.h",
        "test/modules/test_shm_mq/worker.c",
        "test/modules/worker_spi/worker_spi.c",
        "test/thread/thread_test.c",
        "tools/findoidjoins/findoidjoins.c",
        "tools/ifaddrs/test_ifaddrs.c",
        "tools/testint128.c",
        "tutorial/complex.c",
        "tutorial/funcs.c",
    ],
)
