@Dialect=GOOGLE_STANDARD_SQL
CREATE TABLE t(
  id          INT64 GENERATED BY DEFAULT AS IDENTITY(BIT_REVERSED_POSITIVE),
  value       INT64,
  non_key_col INT64 GENERATED BY DEFAULT AS IDENTITY(BIT_REVERSED_POSITIVE),
  br_id       INT64 AS (BIT_REVERSE(id, true)) STORED,
  CONSTRAINT id_gt_0 CHECK (id > 0),
  CONSTRAINT br_id_true CHECK (id = BIT_REVERSE(br_id, true)),
) PRIMARY KEY (id, br_id);
===
@Dialect=POSTGRESQL
CREATE TABLE t(
  id          BIGINT GENERATED BY DEFAULT AS IDENTITY(BIT_REVERSED_POSITIVE),
  value       BIGINT,
  non_key_col BIGINT GENERATED BY DEFAULT AS IDENTITY(BIT_REVERSED_POSITIVE),
  br_id       BIGINT GENERATED ALWAYS AS (spanner.bit_reverse(id, true)) STORED,
  CONSTRAINT id_gt_0 CHECK (id > 0),
  CONSTRAINT br_id_true CHECK (id = spanner.bit_reverse(br_id, true)),
  PRIMARY KEY(id, br_id)
);
